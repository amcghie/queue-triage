# Server side
keytool -genkey -alias broker_server -keyalg RSA -keysize 2048 -validity 10000 -keypass brokerpassword -storepass brokerpassword -keystore broker.ks
keytool -export -alias broker_server -storepass brokerpassword -file broker_cert.cer -keystore broker.ks

# Client side
keytool -genkey -alias broker_client -keyalg RSA -keysize 2048 -validity 10000 -keypass clientpassword -storepass clientpassword -keystore client.ks
keytool -export -alias broker_client -storepass clientpassword -file client_cert.cer -keystore client.ks


keytool -import -v -trustcacerts -alias broker_server -file broker_cert.cer -keystore client.ks -keypass clientpassword -storepass clientpassword
keytool -import -v -trustcacerts -alias broker_client -file client_cert.cer -keystore broker.ks -keypass brokerpassword -storepass brokerpassword